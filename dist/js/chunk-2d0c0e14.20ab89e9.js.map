{"version":3,"sources":["webpack:///./src/components/games/MentalArithmetic.vue?7913","webpack:///./src/util/timeFormat.js","webpack:///src/components/games/MentalArithmetic.vue","webpack:///./src/components/games/MentalArithmetic.vue?bd6e","webpack:///./src/components/games/MentalArithmetic.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","questions","currentIndex","currentInput","on","onInput","onDelete","style","height","Refresh","model","value","callback","$$v","showScore","expression","staticClass","staticStyle","_v","_s","score","scoreEn","staticRenderFns","timeFormatCn","time","timeFormat","timeFormatEn","h","m","s","result","hours","Math","floor","leave2","minutes","leave3","seconds","round","component"],"mappings":"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","file":"js/chunk-2d0c0e14.20ab89e9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Start'),_c('MentalArithmeticLine',{attrs:{\"question\":_vm.questions[_vm.currentIndex - 2]}}),_c('MentalArithmeticLine',{attrs:{\"question\":_vm.questions[_vm.currentIndex - 1]}}),_c('MentalArithmeticLine',{attrs:{\"question\":_vm.questions[_vm.currentIndex],\"answer\":_vm.currentInput}}),_c('MentalArithmeticLine',{attrs:{\"question\":_vm.questions[_vm.currentIndex + 1],\"answer\":''}}),_c('van-number-keyboard',{attrs:{\"extra-key\":\" \",\"delete-button-text\":'🗑️',\"hide-on-click-outside\":false,\"show\":true,\"v-model\":_vm.currentInput},on:{\"input\":_vm.onInput,\"delete\":_vm.onDelete}}),_c('van-popup',{style:({ height: '35%' }),attrs:{\"safe-area-inset-bottom\":\"\",\"duration\":\"0\",\"close-on-click-overlay\":false,\"closeable\":true,\"position\":\"bottom\"},on:{\"closed\":_vm.Refresh},model:{value:(_vm.showScore),callback:function ($$v) {_vm.showScore=$$v},expression:\"showScore\"}},[_c('pre',{staticClass:\"game_formula\",staticStyle:{\"font-size\":\"30px\"}},[_vm._v(_vm._s(_vm.score))]),_c('pre',{staticClass:\"game_formula\",staticStyle:{\"margin-top\":\"0\",\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.scoreEn))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * 只有秒时显示秒，有分时显示分，最多显示时分秒\n */\nexport function timeFormatCn(time) {\n  return timeFormat(time, ' 时 ', ' 分 ', ' 秒')\n}\nexport function timeFormatEn(time) {\n  return timeFormat(time, ' hour ', ' minute ', ' second')\n}\nexport function timeFormat(time, h, m, s) {\n  let result;\n  let hours = Math.floor(time / (3600 * 1000));\n  let leave2 = time % (3600 * 1000);\n  let minutes = Math.floor(leave2 / (60 * 1000));\n  let leave3 = leave2 % (60 * 1000);\n  let seconds = Math.round(leave3 / 1000);\n  result = seconds + s;\n  if (minutes > 0) {\n    result = minutes + m + result;\n  }\n  if (hours > 0) {\n    result = hours + h + result;\n  }\n  return result;\n}","<template>\n  <div>\n    <Start></Start>\n    <MentalArithmeticLine :question=\"questions[currentIndex - 2]\"></MentalArithmeticLine>\n    <MentalArithmeticLine :question=\"questions[currentIndex - 1]\"></MentalArithmeticLine>\n    <MentalArithmeticLine :question=\"questions[currentIndex]\" :answer=\"currentInput\"></MentalArithmeticLine>\n    <MentalArithmeticLine :question=\"questions[currentIndex + 1]\" :answer=\"''\"></MentalArithmeticLine>\n    <van-number-keyboard\n        extra-key=\" \"\n        :delete-button-text=\"'🗑️'\"\n        :hide-on-click-outside=\"false\"\n        :show=\"true\"\n        :v-model=\"currentInput\"\n        @input=\"onInput\"\n        @delete=\"onDelete\"\n    />\n    <van-popup safe-area-inset-bottom\n        duration=\"0\" :close-on-click-overlay=\"false\" :closeable=\"true\" @closed=\"Refresh\"\n        v-model=\"showScore\" position=\"bottom\" :style=\"{ height: '35%' }\">\n      <pre class=\"game_formula\" style=\"font-size: 30px;\">{{score}}</pre>\n      <pre class=\"game_formula\" style=\"margin-top: 0;font-size: 20px;\">{{scoreEn}}</pre>\n    </van-popup>\n  </div>\n</template>\n\n<script>\n  const Start = () => import('@/components/Start.vue')\n  const MentalArithmeticLine = () => import('@/components/games/MentalArithmeticLine.vue')\n\n  import {timeFormatCn, timeFormatEn} from \"@/util/timeFormat\"\n\n  export default {\n    components: {\n      Start,\n      MentalArithmeticLine,\n    },\n    data() {\n      return {\n        startTime: new Date().getTime(),\n        showScore: false,\n        score: '',\n        scoreEn: '',\n        questions: [],\n        currentIndex: 0,\n        currentInput: '_',\n        n: this.$route.query.n === undefined ? 25 : parseInt(this.$route.query.n),\n      };\n    },\n    created() {\n      for (let i = 0; i < this.n; i++) {\n        let m = Math.floor(Math.random() * 10);\n        let n = Math.floor(Math.random() * 10);\n        let f = Math.floor(Math.random() * 3);\n        switch (f) {\n          case 0:\n            this.questions.push({m: m, f: '+', n: n, a: m + n, ma: ''});\n            break;\n          case 1:\n            this.questions.push({m: m, f: '×', n: n, a: m * n, ma: ''});\n            break;\n          case 2:\n            this.questions.push({m: m + n, f: '-', n: n, a: m, ma: ''});\n            break;\n        }\n      }\n    },\n    mounted(){\n      let _this = this;\n      document.onkeydown = function(e) {\n        let key = e.key;\n        if (key >= 0 && key <= 9) {\n          _this.onInput(key);\n        } else {\n          _this.onDelete();\n        }\n      };\n    },\n    methods: {\n      onInput(value) {\n        if (this.currentInput === '_' || this.currentInput.length === 2) {\n          this.currentInput = '' + value;\n        } else {\n          this.currentInput = '' + this.currentInput + value;\n        }\n        let currentQuestion = this.questions[this.currentIndex];\n        if (currentQuestion.a === 1 * this.currentInput) {\n          currentQuestion.ma = this.currentInput;\n          this.currentIndex++;\n          if (this.currentIndex === this.n) {\n            // 减去倒计时的 3 秒\n            let time = new Date().getTime() - this.startTime - 3000;\n            this.score = this.n + ' 道计算题\\n耗时 ' + timeFormatCn(time);\n            this.scoreEn = this.n + ' calculation questions\\ntakes ' + timeFormatEn(time);\n            this.showScore = true;\n            return;\n          }\n          this.currentInput = '_';\n        }\n      },\n      onDelete() {\n        this.currentInput = '_';\n      },\n      Refresh() {\n        this.$router.replace('/Refresh');\n      },\n    },\n  };\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MentalArithmetic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MentalArithmetic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MentalArithmetic.vue?vue&type=template&id=26cad69e&\"\nimport script from \"./MentalArithmetic.vue?vue&type=script&lang=js&\"\nexport * from \"./MentalArithmetic.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}