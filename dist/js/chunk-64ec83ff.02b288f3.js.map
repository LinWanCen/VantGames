{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/components/games/MentalArithmetic.vue?d76d","webpack:///src/components/games/MentalArithmetic.vue","webpack:///./src/components/games/MentalArithmetic.vue?bd6e","webpack:///./src/components/games/MentalArithmetic.vue","webpack:///./src/util/timeFormat.js"],"names":["redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","this","p","String","rf","f","undefined","unsafe","render","_vm","_h","$createElement","_c","_self","attrs","questions","currentIndex","style","currentInput","on","onInput","onDelete","Refresh","model","value","callback","$$v","showScore","expression","staticClass","staticStyle","_v","_s","score","scoreEn","staticRenderFns","component","timeFormatCn","time","timeFormat","timeFormatEn","h","m","s","result","hours","Math","floor","leave2","minutes","leave3","seconds","round"],"mappings":"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","file":"js/chunk-64ec83ff.02b288f3.js","sourcesContent":["'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('MentalArithmeticLine',{attrs:{\"question\":_vm.questions[_vm.currentIndex - 2]}}),_c('MentalArithmeticLine',{attrs:{\"question\":_vm.questions[_vm.currentIndex - 1]}}),_c('MentalArithmeticLine',{style:(_vm.answerStyle),attrs:{\"question\":_vm.questions[_vm.currentIndex],\"answer\":_vm.currentInput}}),_c('MentalArithmeticLine',{attrs:{\"question\":_vm.questions[_vm.currentIndex + 1],\"answer\":''}}),_c('van-number-keyboard',{attrs:{\"extra-key\":\" \",\"hide-on-click-outside\":false,\"show\":true,\"v-model\":_vm.currentInput},on:{\"input\":_vm.onInput,\"delete\":_vm.onDelete}}),_c('van-popup',{attrs:{\"safe-area-inset-bottom\":\"\",\"duration\":\"0\",\"close-on-click-overlay\":false,\"closeable\":true,\"position\":\"bottom\"},on:{\"closed\":_vm.Refresh},model:{value:(_vm.showScore),callback:function ($$v) {_vm.showScore=$$v},expression:\"showScore\"}},[_c('pre',{staticClass:\"game_formula\",staticStyle:{\"font-size\":\"30px\"}},[_vm._v(_vm._s(_vm.score))]),_c('pre',{staticClass:\"game_formula\",staticStyle:{\"margin-top\":\"0\",\"font-size\":\"20px\"}},[_vm._v(_vm._s(_vm.scoreEn))])]),_c('Start')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n\n    <!-- 算式 -->\n    <MentalArithmeticLine :question=\"questions[currentIndex - 2]\"></MentalArithmeticLine>\n    <MentalArithmeticLine :question=\"questions[currentIndex - 1]\"></MentalArithmeticLine>\n    <MentalArithmeticLine :question=\"questions[currentIndex]\" :style=\"answerStyle\" :answer=\"currentInput\"></MentalArithmeticLine>\n    <MentalArithmeticLine :question=\"questions[currentIndex + 1]\" :answer=\"''\"></MentalArithmeticLine>\n\n    <!-- 键盘式按键 -->\n    <van-number-keyboard extra-key=\" \"\n                         :hide-on-click-outside=\"false\" :show=\"true\" :v-model=\"currentInput\"\n                         @input=\"onInput\" @delete=\"onDelete\"/>\n\n    <!-- 结果-->\n    <van-popup safe-area-inset-bottom\n               duration=\"0\" :close-on-click-overlay=\"false\" :closeable=\"true\" @closed=\"Refresh\"\n               v-model=\"showScore\" position=\"bottom\">\n      <pre class=\"game_formula\" style=\"font-size: 30px;\">{{ score }}</pre>\n      <pre class=\"game_formula\" style=\"margin-top: 0;font-size: 20px;\">{{ scoreEn }}</pre>\n    </van-popup>\n\n    <!-- 倒计时 -->\n    <Start></Start>\n\n  </div>\n</template>\n\n<script>\n  const Start = () => import('@/components/Start.vue')\n  const MentalArithmeticLine = () => import('@/components/games/MentalArithmeticLine.vue')\n\n  import {timeFormatCn, timeFormatEn} from \"@/util/timeFormat\"\n\n  import MtaH5 from 'mta-h5-analysis';\n\n  export default {\n    components: {\n      Start,\n      MentalArithmeticLine,\n    },\n\n    data() {\n      return {\n        startTime: new Date().getTime(),\n        showScore: false,\n        score: '',\n        scoreEn: '',\n        questions: [],\n        currentIndex: 0,\n        currentInput: '_',\n        answerStyle: '',\n        n: this.intParam(\"n\", 25),\n        a1: this.intParam(\"a1\", 0),\n        a2: this.intParam(\"a2\", 10),\n        b1: this.intParam(\"b1\", 0),\n        b2: this.intParam(\"b2\", 10),\n        f1: this.intParam(\"f1\", 0),\n        f2: this.intParam(\"f2\", 3),\n      };\n    },\n\n    created() {\n      let aLen = this.a2 - this.a1 + 1;\n      let bLen = this.b2 - this.b1 + 1;\n      let fLen = this.f2 - this.f1 + 1;\n      for (let i = 0; i < this.n; i++) {\n        let a = this.a1 + Math.floor(Math.random() * aLen);\n        let b = this.b1 + Math.floor(Math.random() * bLen);\n        let f = this.f1 + Math.floor(Math.random() * fLen);\n        // 指定数时能有交换\n        if (f !== 4 && Math.floor(Math.random() * 2) === 1) {\n          let t = a;\n          a = b;\n          b = t;\n        }\n        switch (f) {\n          case 0:\n            this.questions.push({m: a, f: '+', n: b, a: a + b, ma: ''});\n            break;\n          case 1:\n            this.questions.push({m: a + b, f: '-', n: b, a: a, ma: ''});\n            break;\n          case 2:\n            this.questions.push({m: a, f: '×', n: b, a: a * b, ma: ''});\n            break;\n          case 3:\n            this.questions.push({m: a * b, f: '÷', n: b, a: a, ma: ''});\n            break;\n          case 4:\n            this.questions.push({m: a, f: '^', n: b, a: Math.pow(a, b), ma: ''});\n            break;\n        }\n      }\n    },\n\n    mounted() {\n      let _this = this;\n      document.onkeydown = function (e) {\n        let key = e.key;\n        if (key >= 0 && key <= 9) {\n          _this.onInput(key);\n        } else {\n          _this.onDelete();\n        }\n      };\n    },\n\n    methods: {\n\n      onInput(value) {\n        if (this.currentInput === '_') {\n          this.currentInput = '' + value;\n        } else {\n          this.currentInput = '' + this.currentInput + value;\n        }\n        let currentQuestion = this.questions[this.currentIndex];\n\n        // 有错及时红色提示打断\n        if (currentQuestion.a.toString().substr(0, this.currentInput.length) !== this.currentInput) {\n          this.answerStyle = 'color: #f25022';\n        } else {\n          this.answerStyle = '';\n        }\n\n        // 与正确答案不一致 return\n        if (currentQuestion.a !== 1 * this.currentInput) {\n          return;\n        }\n\n        // 把当前式的答案写入历史\n        currentQuestion.ma = this.currentInput;\n\n        this.currentIndex++;\n        // 还未答完 return\n        if (this.currentIndex !== this.n) {\n          this.currentInput = '_';\n          return;\n        }\n\n        // 减去倒计时的 3 秒\n        let time = new Date().getTime() - this.startTime - 3000;\n        let timeCn = timeFormatCn(time);\n\n        let operator = ''\n        for (let f = this.f1; f <= this.f2; f++) {\n          switch (f) {\n            case 0:\n              operator += '+';\n              break;\n            case 1:\n              operator += '-';\n              break;\n            case 2:\n              operator += '×';\n              break;\n            case 3:\n              operator += '÷';\n              break;\n            case 4:\n              operator += '^';\n              break;\n          }\n        }\n        this.score = this.n + ' 道计算题\\n耗时 ' + timeCn;\n        this.scoreEn = this.a1 + ' ~ ' + this.a2 + ' ' + operator + ' ' + this.b1 + ' ~ ' + this.b2 +\n            '\\n\\n' + this.n + ' calculation questions\\ntakes ' + timeFormatEn(time);\n        this.showScore = true;\n        MtaH5.clickStat('MentalArithmeticScore', {\n          'n': this.n,\n          'time': time,\n          'timecn': timeCn,\n          'a1': this.a1,\n          'a2': this.a2,\n          'b1': this.b1,\n          'b2': this.b2,\n          'f1': this.f1,\n          'f2': this.f2,\n          'operator': operator,\n        })\n      },\n\n      onDelete() {\n        this.currentInput = this.currentInput.substr(0, this.currentInput.length - 1)\n        let currentQuestion = this.questions[this.currentIndex];\n        if (currentQuestion.a.toString().substr(0, this.currentInput.length) !== this.currentInput) {\n          this.answerStyle = 'color: #f25022';\n        } else {\n          this.answerStyle = '';\n        }\n        if (this.currentInput.length === 0) {\n          this.currentInput = '_';\n        }\n      },\n\n      Refresh() {\n        this.$router.replace('/Refresh');\n      },\n    },\n  };\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MentalArithmetic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MentalArithmetic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MentalArithmetic.vue?vue&type=template&id=56e34a86&\"\nimport script from \"./MentalArithmetic.vue?vue&type=script&lang=js&\"\nexport * from \"./MentalArithmetic.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * 只有秒时显示秒，有分时显示分，最多显示时分秒\n */\nexport function timeFormatCn(time) {\n  return timeFormat(time, ' 时 ', ' 分 ', ' 秒')\n}\nexport function timeFormatEn(time) {\n  return timeFormat(time, ' hour ', ' minute ', ' second')\n}\nexport function timeFormat(time, h, m, s) {\n  let result;\n  let hours = Math.floor(time / (3600 * 1000));\n  let leave2 = time % (3600 * 1000);\n  let minutes = Math.floor(leave2 / (60 * 1000));\n  let leave3 = leave2 % (60 * 1000);\n  let seconds = Math.round(leave3 / 1000);\n  result = seconds + s;\n  if (minutes > 0) {\n    result = minutes + m + result;\n  }\n  if (hours > 0) {\n    result = hours + h + result;\n  }\n  return result;\n}"],"sourceRoot":""}